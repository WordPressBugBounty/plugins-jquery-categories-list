!function(){"use strict";var e,t={47:function(e,t,n){var l=window.wp.blocks,o=window.wp.element,r=window.wp.i18n,a=window.wp.blockEditor,i=window.wp.components,c=window.wp.data,s=e=>{let{selectedCats:t,onSelected:n}=e;const l=(0,c.useSelect)((e=>e("core").getEntityRecords("taxonomy","category",{per_page:100})));return(0,c.useSelect)((e=>e("core/data").isResolving("core","getEntityRecords",["taxonomy","category",{per_page:100}])))?(0,o.createElement)("h3",null,(0,r.__)("Loading categories…","jcl_i18n")):null===l?(0,o.createElement)("p",null,"No categories found"):(0,o.createElement)(i.SelectControl,{hideLabelFromVision:!0,multiple:!0,options:l.map((e=>{let{id:t,name:n}=e;return{label:n,value:t}})),onChange:e=>{n(e)},style:{minWidth:"250px",height:"100px"},value:t})};const u={title:"",symbol:"0",effect:"none",layout:"right",expand:"",orderby:"name",orderdir:"ASC",showcount:!1,show_empty:!1,include_or_exclude:"include",expandCategories:[]},d=(0,o.createContext)(u),y=e=>{let{attributes:t,children:n}=e;const l={...u,...t},[r,a]=(0,o.useState)(l),i=e=>{const t={...u,...e};"undefined"!=typeof jclCurrentCat&&(t.expandCategories=jclCurrentCat.split(",").map(Number)),a(t)};return(0,o.useEffect)((()=>{i(t)}),[t]),(0,o.createElement)(d.Provider,{value:{config:r,setConfig:i}},n)};var m=window.wp.apiFetch,p=n.n(m);function g(e){const[t,n]=(0,o.useState)(null),[l,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!1);return{apiClient:async function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(!0);const o=new URLSearchParams({orderby:t.orderby,orderdir:t.orderdir,parent:l,showEmpty:t.show_empty,taxonomy:"category",type:"post"});return"undefined"!=typeof jclCurrentCat&&t.onlycategory>0&&o.append("currentCat",jclCurrentCat),t.categories&&(o.append("exclusionType",t.include_or_exclude),o.append("cats",t.categories)),p()({path:`${e}?${o.toString()}`}).then((e=>{n(e),i(!1)})).catch((e=>{i(!1),r(e)}))},data:t,error:l,loading:a,setLoading:i}}function _(e,t){return"all"===e.expand||"sel_cat"===e.expand&&e.expandCategories.includes(t)}var f=e=>{let{expanded:t,title:n,permalink:l,onToggle:r}=e;const{config:a}=(0,o.useContext)(d),{expandSymbol:i,collapseSymbol:c}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",n="",l="";switch(e.toString()){case"1":n="▼",l="left"===t?"►":"◄";break;case"2":n="(–)",l="(+)";break;case"3":n="[–]",l="[+]"}return{collapseSymbol:n,expandSymbol:l}}(a.symbol,a.layout);if("0"===a.symbol.toString())return null;const s="jcl_symbol "+(t?"expanded":""),u=t?c:i;return"0"===a.symbol.toString()?"":(0,o.createElement)("a",{href:l,title:n,className:s,onClick:r},u)},v=e=>{let{category:t}=e;const{config:n}=(0,o.useContext)(d);let l=t.name;return n.showcount&&(l+=` (${t.count})`),(0,o.createElement)("a",{href:t.url,title:t.name},l)},h=e=>{let{loading:t}=e;return t?(0,o.createElement)("div",{className:"loading",role:"progressbar"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",version:"1.1",viewBox:"0 0 100 100",xmlSpace:"preserve"},(0,o.createElement)("path",{fill:"#000",d:"M73 50c0-12.7-10.3-23-23-23S27 37.3 27 50m3.9 0c0-10.5 8.5-19.1 19.1-19.1S69.1 39.5 69.1 50"},(0,o.createElement)("animateTransform",{attributeName:"transform",attributeType:"XML",dur:"1s",from:"0 50 50",repeatCount:"indefinite",to:"360 50 50",type:"rotate"})))):""};const b=e=>{let{category:t,animationFunction:n}=e;const{loading:l,data:r,apiClient:a}=g("/jcl/v1/categories"),{config:i}=(0,o.useContext)(d),[c,s]=(0,o.useState)(_(i,t.id)),u=(0,o.useMemo)((()=>"left"===i.layout),[i]),y=parseInt(t.child_num,10)>0,m=(0,o.useRef)(null),p=async e=>{e.preventDefault(),r&&Array.isArray(r.categories)||await a(i,t.id),s(!c)},w=()=>y?(0,o.createElement)(f,{expanded:c,permalink:t.url,title:t.name,onToggle:p}):(0,o.createElement)("div",{className:"jcl_symbol no_child"});(0,o.useEffect)((()=>{!c||r&&Array.isArray(r.categories)||a(i,t.id),(()=>{const e=[...m.current.children].filter((e=>"ul"===e.nodeName.toLowerCase()));e.length>0&&n(e[0])})()}),[c]);const E=_(i,t.id)?"":"jcl-hide";return(0,o.createElement)("li",{ref:m},u?(0,o.createElement)(w,null):"",(0,o.createElement)(v,{category:t}),u?"":(0,o.createElement)(w,null),(0,o.createElement)(h,{loading:l}),y&&r&&r.categories.length>0?(0,o.createElement)("ul",{className:E},r.categories.map((e=>(0,o.createElement)(b,{key:e.id,category:e,animationFunction:n})))):"")};var w=b;var E=()=>{const{config:e}=(0,o.useContext)(d),[t,n]=(0,o.useState)(!1),{loading:l,data:a,error:i,apiClient:c}=g("/jcl/v1/categories"),s=function(e){const t="function"==typeof window.requestAnimationFrame,n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"none"===window.getComputedStyle(e).display?function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");let l=window.getComputedStyle(e).display;"none"===l&&(l="block"),e.style.display=l,e.style.opacity=0;let o=+new Date;const r=function(){e.style.opacity=+e.style.opacity+(new Date-o)/n,o=+new Date,+e.style.opacity<1&&(t?window.requestAnimationFrame(r):setTimeout(r,16))};r()}(e,n):function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.display="",e.style.opacity=1;let l=+new Date;const o=function(){e.style.opacity=Number(+e.style.opacity-(new Date-l)/n).toFixed(4),l=+new Date,-e.style.opacity<=0?t?window.requestAnimationFrame(o):setTimeout(o,16):e.style.display="none"};o()}(e,n)},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"none"===window.getComputedStyle(e).display?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;const l=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}(e,t)},r=e=>{"none"===window.getComputedStyle(e).display?e.style.removeProperty("display"):e.style.display="none"},[a,i]=(0,o.useState)(null);return(0,o.useEffect)((()=>{i((()=>{let t;switch(e){case"fade":t=n;break;case"slide":t=l;break;default:t=r}return t}))}),[e]),a}(e.effect);return(0,o.useEffect)((()=>{c(e)}),[]),(0,o.useEffect)((()=>{t||!i&&!t||n(!0)}),[t,i]),(0,o.createElement)("div",{className:`js-categories-list layout-${e.layout}`},(0,o.createElement)("h2",null,e.title),l?(0,o.createElement)("div",null,(0,o.createElement)(h,{loading:l}),(0,r.__)("Loading…","jcl_i18n")):"",!l&&a&&a.categories?(0,o.createElement)("ul",{className:"jcl_widget"},0===a.categories.length?(0,o.createElement)("li",null,(0,r.__)("There are no categories to show.","jcl_i18n")):a.categories.map((e=>(0,o.createElement)(w,{key:e.id,category:e,animationFunction:s})))):"",!t&&!i||a?"":(0,r.__)("Cannot load categories.","jcl_i18n"))},C=JSON.parse('{"u2":"jquery-categories-list/categories-block"}');(0,l.registerBlockType)(C.u2,{edit:function(e){let{attributes:t,setAttributes:n}=e;const l=Array.isArray(t.categories)?t.categories:[];return(0,o.createElement)("div",(0,a.useBlockProps)(),(0,o.createElement)(y,{attributes:t},(0,o.createElement)(E,null)),(0,o.createElement)(a.InspectorControls,{key:"setting"},(0,o.createElement)("div",{className:"jcl-controls"},(0,o.createElement)(i.Panel,null,(0,o.createElement)(i.PanelBody,{title:(0,r.__)("General options","jcl_i18n"),initialOpen:!0},(0,o.createElement)(i.TextControl,{label:(0,r.__)("Title","jcl_i18n"),value:t.title,onChange:e=>n({title:e})}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Trigger Symbol","jcl_i18n"),value:t.symbol,onChange:e=>n({symbol:e}),options:[{value:"0",label:(0,r.__)("Empty Space","jcl_i18n")},{value:"1",label:"► ▼"},{value:"2",label:"(+) (–)"},{value:"3",label:"[+] [–]"}]}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Symbol position","jcl_i18n"),value:t.layout,onChange:e=>n({layout:e}),options:[{value:"left",label:(0,r.__)("Left","jcl_i18n")},{value:"right",label:(0,r.__)("Right","jcl_i18n")}]}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Effect","jcl_i18n"),value:t.effect,onChange:e=>n({effect:e}),options:[{value:"none",label:(0,r.__)("None","jcl_i18n")},{value:"slide",label:(0,r.__)("Slide( Accordion )","jcl_i18n")},{value:"fade",label:(0,r.__)("Fade","jcl_i18n")}]}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Order by","jcl_i18n"),value:t.orderby,onChange:e=>n({orderby:e}),options:[{value:"name",label:(0,r.__)("Name","jcl_i18n")},{value:"id",label:(0,r.__)("Category ID","jcl_i18n")},{value:"count",label:(0,r.__)("Entries count","jcl_i18n")},{value:"slug",label:(0,r.__)("Slug","jcl_i18n")}]}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Order direction","jcl_i18n"),value:t.orderdir,onChange:e=>n({orderdir:e}),options:[{value:"ASC",label:(0,r.__)("ASC","jcl_i18n")},{value:"DESC",label:(0,r.__)("DESC","jcl_i18n")}]}),(0,o.createElement)(i.SelectControl,{label:(0,r.__)("Expand","jcl_i18n"),value:t.expand,onChange:e=>n({expand:e}),options:[{value:"",label:(0,r.__)("None","jcl_i18n")},{value:"all",label:(0,r.__)("All (warning: requires too many ajax calls on load)","jcl_i18n")},{value:"sel_cat",label:(0,r.__)("Selected category","jcl_i18n")}]}))),(0,o.createElement)(i.Panel,null,(0,o.createElement)(i.PanelBody,{title:(0,r.__)("Extra options","jcl_i18n"),initialOpen:!1},(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.CheckboxControl,{label:(0,r.__)("Show number of posts","jcl_i18n"),checked:t.showcount,onChange:e=>n({showcount:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.CheckboxControl,{label:(0,r.__)("Show empty categories","jcl_i18n"),checked:t.show_empty,onChange:e=>n({show_empty:e})})))),(0,o.createElement)(i.Panel,null,(0,o.createElement)(i.PanelBody,{title:(0,r.__)("Category management","jcl_i18n"),initialOpen:!1},(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.RadioControl,{label:(0,r.__)("Include or exclude","jcl_i18n"),selected:t.include_or_exclude,options:[{label:(0,r.__)("Include the following categories","jcl_i18n"),value:"include"},{label:(0,r.__)("Exclude the following categories ","jcl_i18n"),value:"exclude"}],onChange:e=>n({include_or_exclude:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(s,{selectedCats:l,onSelected:e=>n({categories:e})})))))))}})}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,n,o,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],i=n[1],c=n[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)l.o(i,o)&&(l.m[o]=i[o]);if(c)var u=c(l)}for(t&&t(n);s<a.length;s++)r=a[s],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(u)},n=self.webpackChunkjquery_categories_list=self.webpackChunkjquery_categories_list||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[431],(function(){return l(47)}));o=l.O(o)}();